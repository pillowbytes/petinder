<div class="chat-container mt-3">
  <h2 class="mb-4">Messages</h2>

  <div class="chat-list">
    <% if @matches.any? %>
      <% @matches.each do |match| %>
        <%= link_to pet_match_messages_path(match.pet, match), class: "match-link" do %>
          <div class="match-item">
            <div class="match-avatar">
              <div class="split-avatar">
                <div class="half left" style="background-image: url(<%= cl_image_path(match.pet.photos.first.key) %>)"></div>
                <div class="half right" style="background-image: url(<%= cl_image_path(match.matched_pet.photos.first.key) %>)"></div>
              </div>
            </div>
            <div class="match-details">
              <strong><%= match.pet.name %> & <%= match.matched_pet.name %></strong>
              <% no_messages_phrases = [
                "No messages yet. Say hi! ğŸ‘‹",
                "Break the ice with a message! â„ï¸",
                "Start a conversation! ğŸ—¨ï¸",
                "Don't be shy, send a message! ğŸ˜Š",
                "Introduce your pet with a fun fact! ğŸ¾",
                "This chat is too quiet... fix that! ğŸ¤",
                "Your pet is waiting for a message! ğŸ¶",
                "First message magic happens here! âœ¨",
                "Start chatting and make a new friend! â¤ï¸",
                "Send a message and see where it goes! ğŸš€"
              ] %>
              <p><%= match.messages.any? ? match.messages.last.content : no_messages_phrases.sample %></p>
            </div>
          </div>
        <% end %>

      <% end %>

    <% else %>
      <p>No messages yet.</p>
    <% end %>
  </div>
</div>
